# 文档

羽bot，不是羽波，夸夸，集器人，羽波的私货集合体。

感谢骨头画的头像和图标！

请注意本文档与羽bot本身并非完全同步，羽bot可能会有一些变更未能及时在本文档反映，请以实际体验为准

在群里发送 `@羽bot 文档` ，羽bot会发送如下的指向本页面的链接

<https://yubo.run/bot/docs/>

本文中的指令使用尖括号表示必选参数，使用方括号表示可选参数，使用竖线分隔括号内的选项

```sh
# 这是一个例子
指令 <必选参数> [可选参数1 | 可选参数2]
```

你可以在本页面最后看到本文最近一次更新的时间

## 获取羽bot并使用

请看 [使用羽bot](get_yubot.md)

## 个人中心

羽bot将更新token等操作整合到了 [个人中心](https://yubo.run/user/) 页面

群友登录后可以执行关联账号等相关操作

如果你在群里有群主或管理员权限，你可以在群列表中开启或关闭各项功能

### 登录

在群里发送 `@羽bot 个人中心` ，羽bot会发送如下的链接，把它复制到浏览器打开

<https://yubo.run/user/>

（每次发送的链接都是一样的，能打开就行，不用每次都发送指令）

（在这个页面也可以直接点击跳转不用再回去群里发.jpg）

填入QQ之后点击 `登录` ，在群里发送验证码即可登录

## 明日方舟相关

包括集成战略统计和抽卡统计，使用本组件需要提供明日方舟个人中心登录凭证(token)以查询数据

羽bot会使用token每小时整点自动从明日方舟官方接口更新游戏账号的集成战略和抽卡等数据，群友可以用指令查询相关统计；除了自动更新，也可以发送指令 `@羽bot 更新数据` 手动更新

### token

羽bot使用 [明日方舟个人中心](https://ak.hypergryph.com/user/home) 登录凭证(token)从官方接口查询数据

#### 更新token

在 [羽bot个人中心](https://yubo.run/user/) 登录后点击 `更新token` ，按照网页中的说明操作，在第二步记得**全选**

在输入框中填入刚才**全选**复制的token信息，提交后如果成功会在网页和群里收到结果

#### 移除token

别走好吗.jpg

在群里发送 `移除token` ，集器人会回复如下的消息

> 你确定吗？请在5分钟内发送“我确定要移除token”，若如此做，博士的token将被移除，与QQ的关联将被解除，其数据将不再被自动更新，但是已有的数据将被继续保留

在5分钟内发送 `我确定要移除token` 即可移除token

### 集器人

**集**成战略机**器人**，简称集器人

羽bot会定时播报集集雷达速报、集集日报、集集周报

群友可以用指令查询相关统计

`查询萨米肉鸽统计` 的统计结果中，每个字有(触发坍缩范式次数-去除坍缩范式次数) * 0.05%的概率坍缩，😎戴上墨镜🕶可以防坍缩

### 抽卡统计

官网的抽卡记录只提供30天内最近100条（每次单抽算1条，每次十连算1条），如果（打算）在一小时内连续抽100条记录请及时手动更新数据以保证数据完整 ~~还没见过这么抽的群友~~

数据更新后，如果检测到抽卡记录更新，会自动请求 [明日方舟寻访记录分析](https://arkgacha.kwer.top/) 同步更新，即只要羽bot这边的token不失效，寻访记录分析那边的记录就不会因过期而失效

### 一些指令

```
查询傀影肉鸽统计
查询古堡肉鸽统计
查询水月肉鸽统计
查询萨米肉鸽统计 [😎 | 🕶]
查询最近古堡探索

查询群友节点 [傀影 | 古堡 | 水月 | 萨米 | 全部 | 累计]
查询群友存款 [傀影 | 古堡 | 水月 | 萨米 | 全部 | 累计]

查询抽卡统计 [卡池名]
查询群友抽卡统计 <卡池名>

@羽bot 更新数据
更新token
移除token
```

## Steam相关

暂未取回这部分力量

## 雀魂相关

羽bot会定时播报雀魂战报、雀魂周报

## 其他功能/组件

### arkdle

基于 [nonebot-plugin-handle](https://github.com/noneplugin/nonebot-plugin-handle) 修改而成的 [改版handle](https://github.com/SonodaHanami/nonebot-plugin-handle) ，用到了[舟语词典](https://github.com/SonodaHanami/arknights_words/blob/master/answers_arknights.json)

#### 开始游戏

发送 `arkdle` 开始游戏

你有10次的机会猜一个四字舟语

每次猜测后，汉字与拼音的颜色将会标识其与正确答案的区别

<span style="color: #1d9c9c;">青色</span> 表示其出现在答案中且在正确的位置

<span style="color: #de7525;">橙色</span> 表示其出现在答案中但不在正确的位置，最大着色次数为这个声母/韵母在这个词语中出现的次数

下划线 表示这个声母韵母组合来自同一个字

每个格子的 汉字、声母、韵母、声调 都会独立进行颜色的指示

当四个格子都为青色时，你便赢得了游戏！

可发送 `结束` 结束游戏，发送 `提示` 查看提示

严格模式默认开启且无法关闭，即猜测的四字词语必须是舟语

使用 `--nohint` 选项禁用提示

使用 `--confirm` 选项开启确认模式，在猜测的四字词语不是舟语时会发送提示

使用 `--hard` 选项开启困难模式，可猜次数变为5，自动禁用提示，自动启用严格模式

例如：发送 `arkdle --nohint --confirm` 将开始一局禁用提示、开启确认模式的arkdle

#### 查询舟语

发送 `查询舟语 <四字舟语>` 可以查询四字舟语的拼音、所属范围、释义

### 其他群聊功能

#### 加群/退群提醒

有新群友进群时羽bot会自动发送欢迎消息

有群友退群时羽bot会自动发送白白喵消息

#### 禁言我

在群里发送 `@羽bot 禁言我[<天数>天][<小时数>小时][<分钟数>分钟][<秒数>秒]` ，如果羽bot有合适的权限则会将你禁言

例如：发送 `@羽bot 禁言我3天33小时333分钟3333秒` 将获得时长4天15小时28分钟33秒的禁言

没有指定时长时，羽bot将随机决定一个10秒到10分钟的禁言时长

你可以什么都不做，直到禁言自然结束

如果你已经登录个人中心，你可以在个人中心点击群号下方的 `请求解除禁言` 请求解除禁言

或者你可以使用紧急自救页面实现自救

<https://yubo.run/user/iambanned.html>